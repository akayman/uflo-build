(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51ba2444"],{"06c5":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("fb6a"),n("d3b7"),n("b0c0"),n("a630"),n("3ca3");function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){if(t){if("string"===typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}},"4e59":function(t,e,n){},"4fe4":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"framerep-w no--highlight"},[t.editingFrameIndex>-1&&!t.codeIsRunning?n("TransformationAddComp",{ref:"transformationComp",attrs:{editingFrameIndex:t.editingFrameIndex,transformation:t.editingTransformation,transformationIndex:t.editingTransformationIndex,desmosUrls:t.desmosUrls},on:{"on-close":t.onCloseTransAdd}}):t._e(),0===t.updateList?n("div",[t.codeIsRunning?n("div",{staticClass:"framerep",staticStyle:{"margin-top":"50vh","margin-bottom":"50vh"}},[n("div",{staticClass:"framerep-text"},[t._v("SCROLL ME !")])]):t._e(),t._l(t.stateList,(function(e,i){return n("FrameComp",{key:i,ref:"frameComp",refInFor:!0,style:t.codeIsRunning?"margin-bottom: 65vh":"",attrs:{frameIds:t.frameIds,frameState:e,changingTargetComponent:t.changingTargetComponent,copyingComps:t.copyingComps,selectingComps:t.selectingComps,selectedExpressionId:t.selectedExpressionId},on:{"on-add-transformation":t.onAddTransformation,"on-select-transformation":t.onSelectTransformation,"on-change-target":t.onChangeTarget,"on-duplicate-transformation":t.onDuplicateTransformation,"on-copy-transformation":t.onCopyTransformation,"on-paste-transformation":t.onPasteTransformation,"on-delete-transformation":t.deleteComp,"on-change-frameId":t.onChangeFrameId,"on-delete-undefined-frame":t.onDeleteUndefinedFrame}})}))],2):t._e()],1)},s=[],o=n("b85c"),a=(n("d3b7"),n("3ca3"),n("ddb0"),n("4de4"),n("d81d"),n("159b"),n("c740"),n("a434"),n("fb6a"),n("ac1f"),n("1276"),{data:function(){return{frameIds:[],stateList:[],viewBottom:"",viewTop:"",flomotionShowing:!0,editingFrameIndex:-1,editingTransformation:{},editingTransformationIndex:-1,selectedExpressionId:"",changingTargetComponent:{frameId:"",componentElement:-1},copyingComps:[],selectingComps:[],changedWithUndoRedo:!1,updateList:0,alert:""}},props:{desmosUrls:{type:Array},codeIsRunning:{type:Boolean}},components:{FrameComp:function(){return n.e("chunk-372a9428").then(n.bind(null,"08e6"))},TransformationAddComp:function(){return n.e("chunk-831c56a4").then(n.bind(null,"660d"))}},watch:{stateList:{handler:function(){this.$emit("on-update-stateList",this.stateList,this.changedWithUndoRedo),this.changedWithUndoRedo=!1},deep:!0}},methods:{onResetStateList:function(t){var e=this;if(JSON.stringify(this.frameIds)!==JSON.stringify(t)){if(this.stateList[0]&&this.frameIds[0]){this.frameIds=t;var n,i=this.stateList,s=[],a=i.map((function(t,n){return e.frameIds.some((function(e){return e!==t.startFrame}))?n:""})).filter(String),r=Object(o["a"])(this.frameIds);try{var m=function(){var t=n.value,i=e.stateList.findIndex((function(e){return e.startFrame===t}));if(i>-1){var o=e.stateList[i];o.startFrame=t,s.push(o)}else if(void 0!==a[0]){var r=a.shift(),m=e.stateList[r];m.startFrame=t,s.push(m)}else s.push({startFrame:t,endFrame:"",type:"enter",transformation:[],showDetails:!1})};for(r.s();!(n=r.n()).done;)m()}catch(l){r.e(l)}finally{r.f()}a.forEach((function(t,n){var i=e.stateList[t];i.transformation[0]&&s.push({startFrame:"undefined-frame-".concat(n),endFrame:i.endFrame,type:i.type,transformation:i.transformation,showDetails:i.showDetails})})),this.stateList=s,this.onSortStateList()}else{this.frameIds=t;var d,f=Object(o["a"])(this.frameIds);try{var c=function(){var t=d.value,n=e.stateList.findIndex((function(e){return e.startFrame===t}));n<0&&e.stateList.push({startFrame:t,endFrame:"",type:"enter",transformation:[],showDetails:!1})};for(f.s();!(d=f.n()).done;)c()}catch(l){f.e(l)}finally{f.f()}}this.$store.dispatch("auth/setAlert","frame ids reseted")}},onSetStateList:function(t,e){this.changedWithUndoRedo=e,this.stateList=t},onAddTransformation:function(t){this.editingTransformationIndex=-1,this.editingTransformation={};var e=this.stateList.findIndex((function(e){return e.startFrame===t}));e>-1&&(this.editingFrameIndex=e,this.stateList[e].showDetails=!0,this.stateList[e].transformation.push({desmosId:window.desmosId||1,expidx:"",compId:"",attribute:"",value:"",latex:"",attributeOption:[],transformOption:[],sliderBounds:{},customAttr:"",customTrans:""}),this.editingTransformationIndex=this.stateList[e].transformation.length-1,this.editingTransformation=this.stateList[e].transformation[this.editingTransformationIndex],this.changingTargetComponent={frameId:t,componentElement:this.editingTransformationIndex})},onSelectTransformation:function(t,e,n){var i=this,s=this.stateList.findIndex((function(t){return t.startFrame===e})),o=t.ctrlKey||t.metaKey;if(s>-1){if(o)(!this.selectingComps[0]||this.selectingComps[0]&&this.selectingComps[0].frameId===e)&&this.selectingComps.push({frameId:e,componentElement:n}),this.editingTransformationIndex=-1,this.editingTransformation={},this.editingFrameIndex=-1,this.selectedExpressionId="",this.changingTargetComponent={frameId:"",componentElement:-1};else if(t.shiftKey&&this.selectingComps[0]){if(this.selectingComps[0].frameId===e){this.selectingComps=this.selectingComps.sort((function(t,e){return e.componentElement-t.componentElement}));var a=this.selectingComps[0].componentElement;if(a<n)for(a;a<n+1;a++)this.selectingComps.push({frameId:e,componentElement:a});else for(a;a>n-1;a--)this.selectingComps.push({frameId:e,componentElement:a})}this.editingTransformationIndex=-1,this.editingTransformation={},this.editingFrameIndex=-1,this.selectedExpressionId="",this.changingTargetComponent={frameId:"",componentElement:-1},setTimeout((function(){var t;i.$refs.transformationComp&&i.$refs.transformationComp.getCompId(null===(t=i.editingTransformation)||void 0===t?void 0:t.desmosId)}),100)}else{var r;this.selectingComps=[{frameId:e,componentElement:n}],this.editingTransformationIndex=n,this.editingTransformation={},this.editingFrameIndex=s,this.stateList[s].showDetails=!0,this.editingTransformation=this.stateList[s].transformation[this.editingTransformationIndex],this.selectedExpressionId=null===this||void 0===this||null===(r=this.editingTransformation)||void 0===r?void 0:r.compId,this.changingTargetComponent={frameId:"",componentElement:-1},setTimeout((function(){var t;i.$refs.transformationComp&&i.$refs.transformationComp.getCompId(null===(t=i.editingTransformation)||void 0===t?void 0:t.desmosId)}),100)}this.selectingComps=this.selectingComps.filter((function(t,e,n){return n.findIndex((function(e){return e.frameId===t.frameId&&e.componentElement===t.componentElement}))===e}))}},onChangeTarget:function(t,e){var n=this.stateList.findIndex((function(e){return e.startFrame===t}));n>-1&&(this.changingTargetComponent={frameId:t,componentElement:e},this.$store.dispatch("auth/setAlert","target has changed in frame id "+t))},onDuplicateTransformation:function(t,e){var n=this,i=this.stateList.findIndex((function(e){return e.startFrame===t}));if(i>-1){if(this.selectingComps[0]&&this.selectingComps[0].frameId===t&&this.selectingComps[0].componentElement===e||!this.selectingComps[0]){var s=JSON.parse(JSON.stringify(this.stateList[i].transformation[e]));this.stateList[i].transformation.splice(e,0,{desmosId:s.desmosId||1,expidx:s.expidx,compId:s.compId,attribute:s.attribute,value:s.value,latex:s.latex,attributeOption:s.attributeOption,transformOption:s.transformOption,sliderBounds:s.sliderBounds,customAttr:s.customAttr,customTrans:s.customTrans})}else{var a,r=Object(o["a"])(this.selectingComps);try{var m=function(){var t=a.value,s=n.stateList.findIndex((function(e){return e.startFrame===t.frameId})),o=JSON.parse(JSON.stringify(n.stateList[s].transformation[t.componentElement]));o&&n.stateList[i].transformation.splice(e,0,{desmosId:o.desmosId||1,expidx:o.expidx,compId:o.compId,attribute:o.attribute,value:o.value,latex:o.latex,attributeOption:o.attributeOption,transformOption:o.transformOption,sliderBounds:o.sliderBounds,customAttr:o.customAttr,customTrans:o.customTrans})};for(r.s();!(a=r.n()).done;)m()}catch(d){r.e(d)}finally{r.f()}}this.$store.dispatch("auth/setAlert","component has duplicated in frame id"+t)}},onCopyTransformation:function(t,e){t&&e>-1&&(!this.selectingComps[0]||-1===this.selectingComps.indexOf({frameId:t,componentElement:e}))?this.copyingComps=[{frameId:t,componentElement:e}]:this.copyingComps=JSON.parse(JSON.stringify(this.selectingComps)),this.$store.dispatch("auth/setAlert","component has copied")},onPasteTransformation:function(t,e){var n=this,i=this.stateList.findIndex((function(e){return e.startFrame===t}));if(i>-1&&this.copyingComps[0]){var s,a=Object(o["a"])(this.copyingComps);try{var r=function(){var t=s.value,o=n.stateList.findIndex((function(e){return e.startFrame===t.frameId})),a=JSON.parse(JSON.stringify(n.stateList[o].transformation[t.componentElement]));a&&(n.stateList[i].transformation.splice(e+1,0,{desmosId:a.desmosId||1,expidx:a.expidx,compId:a.compId,attribute:a.attribute,value:a.value,latex:a.latex,attributeOption:a.attributeOption,transformOption:a.transformOption,sliderBounds:a.sliderBounds,customAttr:a.customAttr,customTrans:a.customTrans}),"SYNC"===a.attribute.slice(0,4)&&(n.stateList[i].type="inView"))};for(a.s();!(s=a.n()).done;)r()}catch(m){a.e(m)}finally{a.f()}}},deleteComp:function(t,e){var n=this;this.editingFrameIndex=-1;var i=this.stateList.findIndex((function(e){return e.startFrame===t}));if(i>-1&&t&&e)this.editingTransformationIndex=-1,this.editingTransformation={},this.changingTargetComponent={frameId:"",componentElement:-1},this.stateList[i].transformation.splice(e,1);else if(this.selectingComps[0]){var s,a=Object(o["a"])(this.selectingComps);try{var r=function(){var t,e=s.value,i=n.stateList.findIndex((function(t){return t.startFrame===e.frameId}));null===(t=n.stateList[i])||void 0===t||t.transformation.splice(e.componentElement,1)};for(a.s();!(s=a.n()).done;)r()}catch(m){a.e(m)}finally{a.f()}this.editingTransformationIndex=-1,this.editingTransformation={},this.changingTargetComponent={frameId:"",componentElement:-1},this.selectingComps=[]}},onChangeFrameId:function(t,e){var n=this,i=this.stateList.findIndex((function(e){return e.startFrame===t})),s=this.stateList.findIndex((function(t){return t.startFrame===e})),o=this.frameIds.findIndex((function(e){return e===t}));if(i>-1&&s>-1&&o>-1)this.stateList[i].startFrame=e,this.stateList[s].startFrame=t,this.onSortStateList(),document.getElementById(e).scrollIntoView({behavior:"auto",block:"center",inline:"center"});else if(o<0){var a=JSON.parse(JSON.stringify(this.stateList[i].transformation));a.forEach((function(t){n.stateList[s].transformation.push(t)})),this.stateList.splice(i,1)}},onSortStateList:function(){var t=this;this.stateList=this.stateList.sort((function(e,n){return"undefined-frame"===e.startFrame.slice(0,15)?1:"undefined-frame"===n.startFrame.slice(0,15)||t.frameIds.indexOf(e.startFrame)<t.frameIds.indexOf(n.startFrame)?-1:t.frameIds.indexOf(e.startFrame)>t.frameIds.indexOf(n.startFrame)?1:0})),this.updateList=1,this.updateList=0},onDeleteUndefinedFrame:function(t){var e=window.confirm("are you sure to delete frame with id: "+t),n=this.stateList.findIndex((function(e){return e.startFrame===t}));n>-1&&e&&(this.editingTransformationIndex=-1,this.editingTransformation={},this.changingTargetComponent={frameId:"",componentElement:-1},this.stateList.splice(n,1))},setAutoStateAndDetectAttribute:function(t,e,n,i){var s=this,o=this.stateList[e].transformation.findIndex((function(e,i){return e.compId===t&&i===n}));this.stateList[e].transformation[o].latex="",this.stateList[e].transformation[o].sliderBounds={},this.stateList[e].transformation[o].attributeOption=["Hidden","Color","Select","Custom"],"desmosCanvas"===t&&(this.stateList[e].transformation[o].attribute="Math Boundary",this.stateList[e].transformation[o].value="",this.stateList[e].transformation[o].attributeOption=["Math Boundary","xAxisLabel","yAxisLabel"]),i.forEach((function(n,i){if("expression"===n.type&&n.id===t){s.stateList[e].transformation[o].latex=(null===n||void 0===n?void 0:n.latex)||"",s.stateList[e].transformation[o].expidx=i+1;var a=n.latex.split("=").pop();if(n.domain&&!isNaN(a)&&n.latex)s.stateList[e].type="inView",s.stateList[e].transformation[o].attribute="SYNC",s.stateList[e].transformation[o].value="",s.stateList[e].transformation[o].attributeOption=["SYNC","SYNC-Custom","SYNC-C-Backward","SYNC-Backward","SYNC-Constant"],s.stateList[e].transformation[o].sliderBounds=(null===n||void 0===n?void 0:n.sliderBounds)||(null===n||void 0===n?void 0:n.slider)||{min:0,max:15,step:.01};else{var r=n.latex.slice(1,6);"left("===r&&(s.stateList[e].transformation[o].attribute="",s.stateList[e].transformation[o].value="",s.stateList[e].transformation[o].attributeOption=["Hidden","Color","Select","Custom","showLabel","pointActive"])}}}))},setComponentFromDesmos:function(t,e){var n=this,i=window["calculator".concat(e)].getExpressions(),s=window["calculator".concat(e)].selectedExpressionId;if(this.selectedExpressionId=s,this.changingTargetComponent.frameId&&s){var o=-1,a=this.stateList.findIndex((function(t){return t.startFrame===n.changingTargetComponent.frameId})),r=i.findIndex((function(t,e){return t.id===s&&(o=e+1),t.id===s&&"folder"===t.type}));r>-1&&(s=i[r+1].id);var m=this.stateList[a].transformation[this.changingTargetComponent.componentElement];t&&!t.altKey&&a>-1?((null===m||void 0===m?void 0:m.compId)===s&&null!==m&&void 0!==m&&m.compId||(this.stateList[a].transformation[this.changingTargetComponent.componentElement].compId=s,this.stateList[a].transformation[this.changingTargetComponent.componentElement].desmosId=e),this.setAutoStateAndDetectAttribute(s,a,this.changingTargetComponent.componentElement,i),this.changingTargetComponent={frameId:"",componentElement:-1}):t&&t.altKey&&a>-1&&(m.compId||(this.stateList[a].transformation[this.changingTargetComponent.componentElement].compId=s,this.stateList[a].transformation[this.changingTargetComponent.componentElement].desmosId=e,this.setAutoStateAndDetectAttribute(s,a,this.changingTargetComponent.componentElement,i)),this.stateList[a].transformation.splice(this.changingTargetComponent.componentElement+1,0,{desmosId:e||1,compId:s,expidx:o,attribute:m.attribute,value:m.value,latex:m.latex,attributeOption:m.attributeOption,transformOption:m.transformOption,sliderBounds:m.sliderBounds,customAttr:m.customAttr,customTrans:m.customTrans}))}if(i&&i[0]){var d=[];this.stateList.forEach((function(t){d=t.transformation.map((function(t,e){var n=t&&t.latex?t.latex.split("=").pop():"";return n&&!isNaN(n)?e:""})).filter(String);var e=function(e){i.forEach((function(n){if(n&&n.latex){var i=n.latex.split("=").pop();i&&!isNaN(i)&&t.transformation[d[e]].compId===n.id&&t.transformation[d[e]].sliderBounds&&"SYNC"===t.transformation[d[e]].attribute&&(t.transformation[d[e]].sliderBounds=n.sliderBounds||{min:0,max:15,step:.01})}}))};for(var n in d)e(n)}))}setTimeout((function(){var t;n.$refs.transformationComp&&n.$refs.transformationComp.getCompId(null===(t=n.editingTransformation)||void 0===t?void 0:t.desmosId)}),100)},onCloseTransAdd:function(){this.editingFrameIndex=-1,this.editingTransformation=[],this.editingTransformationIndex=-1,this.changingTargetComponent={frameId:"",componentElement:-1},this.selectedExpressionId=""},shortcutFuncs:function(t){var e=t.ctrlKey||t.metaKey;if(!e||"c"!==t.key&&"C"!==t.key)if(!e||"v"!==t.key&&"V"!==t.key)if(!e||"d"!==t.key&&"D"!==t.key)if(!e||"q"!==t.key&&"Q"!==t.key)!e&&t.shiftKey&&"Backspace"===t.key&&this.deleteComp();else{var n,i;this.onChangeTarget(null===(n=this.selectingComps[this.selectingComps.length-1])||void 0===n?void 0:n.frameId,null===(i=this.selectingComps[this.selectingComps.length-1])||void 0===i?void 0:i.componentElement)}else{var s,o;this.onDuplicateTransformation(null===(s=this.selectingComps[this.selectingComps.length-1])||void 0===s?void 0:s.frameId,null===(o=this.selectingComps[this.selectingComps.length-1])||void 0===o?void 0:o.componentElement)}else{var a,r;this.onPasteTransformation(null===(a=this.selectingComps[this.selectingComps.length-1])||void 0===a?void 0:a.frameId,null===(r=this.selectingComps[this.selectingComps.length-1])||void 0===r?void 0:r.componentElement)}else this.onCopyTransformation()}},created:function(){window.addEventListener("keyup",this.shortcutFuncs)},destroyed:function(){window.removeEventListener("keyup",this.shortcutFuncs)}}),r=a,m=(n("de51"),n("2877")),d=Object(m["a"])(r,i,s,!1,null,"57135f1a",null);e["default"]=d.exports},a434:function(t,e,n){"use strict";var i=n("23e7"),s=n("23cb"),o=n("a691"),a=n("50c4"),r=n("7b0b"),m=n("65f0"),d=n("8418"),f=n("1dde"),c=f("splice"),l=Math.max,h=Math.min,u=9007199254740991,p="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!c},{splice:function(t,e){var n,i,f,c,g,I,v=r(this),C=a(v.length),x=s(t,C),L=arguments.length;if(0===L?n=i=0:1===L?(n=0,i=C-x):(n=L-2,i=h(l(o(e),0),C-x)),C+n-i>u)throw TypeError(p);for(f=m(v,i),c=0;c<i;c++)g=x+c,g in v&&d(f,c,v[g]);if(f.length=i,n<i){for(c=x;c<C-i;c++)g=c+i,I=c+n,g in v?v[I]=v[g]:delete v[I];for(c=C;c>C-i+n;c--)delete v[c-1]}else if(n>i)for(c=C-i;c>x;c--)g=c+i-1,I=c+n-1,g in v?v[I]=v[g]:delete v[I];for(c=0;c<n;c++)v[c+x]=arguments[c+2];return v.length=C-i+n,f}})},a630:function(t,e,n){var i=n("23e7"),s=n("4df4"),o=n("1c7e"),a=!o((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:a},{from:s})},b85c:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");var i=n("06c5");function s(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Object(i["a"])(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var s=0,o=function(){};return{s:o,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,m=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){m=!0,a=t},f:function(){try{r||null==n["return"]||n["return"]()}finally{if(m)throw a}}}}},d81d:function(t,e,n){"use strict";var i=n("23e7"),s=n("b727").map,o=n("1dde"),a=o("map");i({target:"Array",proto:!0,forced:!a},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},de51:function(t,e,n){"use strict";n("4e59")}}]);
//# sourceMappingURL=chunk-51ba2444.4b784521.js.map