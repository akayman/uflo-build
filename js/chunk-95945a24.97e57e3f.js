(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-95945a24"],{"06c5":function(e,s,t){"use strict";t.d(s,"a",(function(){return n}));t("fb6a"),t("d3b7"),t("b0c0"),t("a630"),t("3ca3");function r(e,s){(null==s||s>e.length)&&(s=e.length);for(var t=0,r=new Array(s);t<s;t++)r[t]=e[t];return r}function n(e,s){if(e){if("string"===typeof e)return r(e,s);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,s):void 0}}},2532:function(e,s,t){"use strict";var r=t("23e7"),n=t("5a34"),o=t("1d80"),i=t("ab13");r({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~String(o(this)).indexOf(n(e),arguments.length>1?arguments[1]:void 0)}})},"4c7f":function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("div",[r("div",{staticClass:"wrapper is--search"},[e.addingDesmosUrl?r("div",{staticClass:"search is--template-border w-form",style:e.codeIsRunning?"z-index: -1;":""},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newDesmosUrl,expression:"newDesmosUrl"}],staticClass:"search_input w-input large-blur",attrs:{autofocus:"",placeholder:"new desmos URL",dark:""},domProps:{value:e.newDesmosUrl},on:{input:function(s){s.target.composing||(e.newDesmosUrl=s.target.value)}}}),r("a",{staticClass:"icon-btn large-blur",on:{click:function(s){e.addingDesmosUrl=!e.addingDesmosUrl}}},[r("i",{staticClass:"fa fa-arrow-left"})])]):r("select",{directives:[{name:"model",rawName:"v-model",value:e.desmosUrl,expression:"desmosUrl"}],staticClass:"search is--template-border w-form search_input large-blur",attrs:{disabled:e.codeIsRunning},on:{change:[function(s){var t=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){var s="_value"in e?e._value:e.value;return s}));e.desmosUrl=s.target.multiple?t:t[0]},function(s){return e.onSetDesmosId()}]}},[r("option",{staticClass:"dropdown-list w-dropdown-list w--open",attrs:{disabled:"",value:""}},[e._v(" Select or insert Desmos Urls ")]),e._l(e.desmosUrls,(function(s,t){return r("option",{key:t,staticClass:"dropdown-list w-dropdown-list w--open",domProps:{value:s}},[r("ul",[r("li",{staticClass:"w-embed"},[r("label",[r("span",[e._v(e._s(t+1)+" - ")]),e._v(e._s(s))])])])])}))],2),r("div",{staticClass:"little-row3",style:e.codeIsRunning?"z-index: -1;":""},[r("a",{staticClass:"icon-btn is--template-border large-blur",class:!e.newDesmosUrl&&e.addingDesmosUrl?"is--deselect":null,on:{click:e.onAddNewDesmosUrl}},[r("i",{staticClass:"fa fa-plus"})]),r("a",{staticClass:"icon-btn is--template-border large-blur",on:{click:function(s){return e.setFirstState()}}},[r("img",{staticClass:"icon-img is--large",attrs:{src:t("ce23"),loading:"lazy",alt:""}})]),r("a",{staticClass:"state_actionbtn is--clear large-blur",on:{click:function(s){return e.onDeleteDesmosUrl()}}},[r("img",{staticClass:"icon-img is--xlarge",attrs:{src:t("57dd"),loading:"lazy",alt:""}})])])])])},n=[],o=t("1da1"),i=t("b85c"),a=(t("96cf"),t("ac1f"),t("1276"),t("caad"),t("2532"),t("a434"),t("159b"),t("c740"),t("d3b7"),t("3ca3"),t("ddb0"),t("2b3d"),{name:"DesmosUrlComp",props:{codeIsRunning:{type:Boolean,defaultValue:!1},stateList:{type:Array}},data:function(){return{desmosUrl:"",desmosUrls:[],desmosId:1,addingDesmosUrl:!1,newDesmosUrl:"",firstStates:[]}},mounted:function(){var e=this.$route.query.canvasID;e&&(this.desmosUrls=e.split(","),this.desmosUrl=e.split(",")[0],this.$emit("on-change-desmos-urls",this.desmosUrls),this.desmosUrl&&this.onSetDesmosId())},methods:{onAddNewDesmosUrl:function(){this.newDesmosUrl&&this.isValidHttpUrl(this.newDesmosUrl)&&!this.desmosUrls.includes(this.newDesmosUrl)?(this.desmosUrls.push(this.newDesmosUrl),this.desmosUrl=this.newDesmosUrl,this.newDesmosUrl="",this.$emit("on-change-desmos-urls",this.desmosUrls),this.onSetDesmosId()):this.addingDesmosUrl&&alert("Please insert a valid and unique url"),this.addingDesmosUrl=!this.addingDesmosUrl},onDeleteDesmosUrl:function(){var e,s=this,t=0,r=Object(i["a"])(this.stateList);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.transformation.forEach((function(e){e.desmosId===s.desmosId&&t++}))}}catch(c){r.e(c)}finally{r.f()}var o=window.confirm("you have "+t+" transformations with desmos url "+this.desmosId+". \n are you sure to remove it?");if(o){if(this.$emit("on-delete-desmosUrl",this.desmosId),this.desmosUrls.length>1){for(var a in this.desmosUrls)if((+a===this.desmosId-1||+a>this.desmosId-1)&&window["calculator".concat(+a+2)]){var l=window["calculator".concat(+a+2)].getState();window["calculator".concat(+a+1)].setState(l)}}else{var d={border:!1,invertedColors:!0,showGrid:!1,projectorMode:!0,keypad:!0,expressionsCollapsed:!1,settingsMenu:!0,lockViewport:!1,fontSize:16,expressions:!0};window["calculator1"].setState(),window["calculator1"].updateSettings(d),this.desmosUrl=""}this.desmosUrls.splice(this.desmosId-1,1),this.firstStates.splice(this.desmosId-1,1),this.desmosUrls[0]&&(this.desmosUrl=this.desmosUrls[0]),this.$emit("on-change-desmos-urls",this.desmosUrls),this.onSetDesmosId()}},onSetDesmosId:function(){var e=this,s=this.desmosUrls.findIndex((function(s){return s==e.desmosUrl}));this.desmosId=s<0?1:s+1,window.desmosId=this.desmosId,this.$emit("on-change-desmosId",this.desmosId),this.desmosUrl&&(window.desmosUrl=this.desmosUrl,setTimeout((function(){window["calculator".concat(e.desmosId)]&&!e.firstStates[e.desmosId-1]&&e.setFirstState()}),10))},setFirstState:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var t,r,n,o,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(window.desmosId=e.desmosId,e.$emit("on-change-desmosId",e.desmosId),window.desmosUrl=e.desmosUrl,"1"===e.desmosUrl){s.next=22;break}return t=e.$loading.show(),s.prev=5,n=new URL(e.desmosUrl),s.next=9,e.$axios({url:n.pathname,baseURL:n.origin},{headers:{accept:"application/json"}});case 9:o=s.sent,i=o.data.state,e.firstStates[e.desmosId-1]=JSON.stringify(i),null===(r=window["calculator".concat(e.desmosId)])||void 0===r||r.setState(i),t.hide(),s.next=21;break;case 16:s.prev=16,s.t0=s["catch"](5),console.log(s.t0),alert(s.t0),t.hide();case 21:t.hide();case 22:case"end":return s.stop()}}),s,null,[[5,16]])})))()},isValidHttpUrl:function(e){if(!e)return!0;var s;try{s=new URL(e)}catch(t){return!1}return!!s||void 0}}}),l=a,d=t("2877"),c=Object(d["a"])(l,r,n,!1,null,null,null);s["default"]=c.exports},"57dd":function(e,s,t){e.exports=t.p+"img/trash.27c296de.svg"},"5a34":function(e,s,t){var r=t("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},a434:function(e,s,t){"use strict";var r=t("23e7"),n=t("23cb"),o=t("a691"),i=t("50c4"),a=t("7b0b"),l=t("65f0"),d=t("8418"),c=t("1dde"),u=c("splice"),m=Math.max,f=Math.min,h=9007199254740991,p="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!u},{splice:function(e,s){var t,r,c,u,w,g,v=a(this),U=i(v.length),b=n(e,U),y=arguments.length;if(0===y?t=r=0:1===y?(t=0,r=U-b):(t=y-2,r=f(m(o(s),0),U-b)),U+t-r>h)throw TypeError(p);for(c=l(v,r),u=0;u<r;u++)w=b+u,w in v&&d(c,u,v[w]);if(c.length=r,t<r){for(u=b;u<U-r;u++)w=u+r,g=u+t,w in v?v[g]=v[w]:delete v[g];for(u=U;u>U-r+t;u--)delete v[u-1]}else if(t>r)for(u=U-r;u>b;u--)w=u+r-1,g=u+t-1,w in v?v[g]=v[w]:delete v[g];for(u=0;u<t;u++)v[u+b]=arguments[u+2];return v.length=U-r+t,c}})},a630:function(e,s,t){var r=t("23e7"),n=t("4df4"),o=t("1c7e"),i=!o((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:i},{from:n})},ab13:function(e,s,t){var r=t("b622"),n=r("match");e.exports=function(e){var s=/./;try{"/./"[e](s)}catch(t){try{return s[n]=!1,"/./"[e](s)}catch(r){}}return!1}},b85c:function(e,s,t){"use strict";t.d(s,"a",(function(){return n}));t("a4d3"),t("e01a"),t("d3b7"),t("d28b"),t("3ca3"),t("ddb0");var r=t("06c5");function n(e,s){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Object(r["a"])(e))||s&&e&&"number"===typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==t["return"]||t["return"]()}finally{if(l)throw i}}}}},ce23:function(e,s,t){e.exports=t.p+"img/refresh-button.d9b63610.svg"}}]);
//# sourceMappingURL=chunk-95945a24.97e57e3f.js.map